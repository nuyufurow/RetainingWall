function [ f ] = dengxiaojiedianhezai01( n,H,Q )
%输出等效节点荷载设计值，弯矩以逆时针为正
%此子函数用于墙底固结,f为已经划行划列的等效节点荷载
% Q=hezaijisuan( n,H,r,h,p0,rg,rq);    %调用荷载计算子程序，计算所有节点的荷载设计值
if n==1
  Ma=-((Q(1,1)-Q(1,2))*H(1,1)*H(1,1)/20+Q(1,2)*H(1,1)*H(1,1)/12);       %A点等效节点弯矩   
  Mb=(Q(1,1)-Q(1,2))*H(1,1)*H(1,1)/30+Q(1,2)*H(1,1)*H(1,1)/12;          %B点等效节点弯矩
  Fa=-((Q(1,1)-Q(1,2))*H(1,1)*7/20+0.5*Q(1,2)*H(1,1));                     %A点等效节点剪力
  Fb=-((Q(1,1)-Q(1,2))*H(1,1)*3/20+0.5*Q(1,2)*H(1,1));                     %B点等效节点剪力
  f=[0;Mb];   
elseif n==2
  Ma=-((Q(1,1)-Q(1,2))*H(1,1)*H(1,1)/20+Q(1,2)*H(1,1)*H(1,1)/12);       %A点等效节点弯矩 
  Mb=((Q(1,1)-Q(1,2))*H(1,1)*H(1,1)/30+Q(1,2)*H(1,1)*H(1,1)/12)-((Q(1,2)-Q(1,3))*H(1,2)*H(1,2)/20+Q(1,3)*H(1,2)*H(1,2)/12); 
  %B点等效节点弯矩
  Mc=(Q(1,2)-Q(1,3))*H(1,2)*H(1,2)/30+Q(1,3)*H(1,2)*H(1,2)/12;          %C点等效节点弯矩
  Fa=-((Q(1,1)-Q(1,2))*H(1,1)*7/20+0.5*Q(1,2)*H(1,1));                     %A点等效节点剪力
  Fb=-((Q(1,1)-Q(1,2))*H(1,1)*3/20+0.5*Q(1,2)*H(1,1))-((Q(1,2)-Q(1,3))*H(1,2)*7/20+0.5*Q(1,3)*H(1,2));                     
  %B点等效节点剪力
  Fc=-((Q(1,2)-Q(1,3))*H(1,2)*3/20+0.5*Q(1,3)*H(1,2));                     %C点等效节点剪力
  f=[0; Mb; 0; Mc];     
elseif n==3
  Ma=-((Q(1,1)-Q(1,2))*H(1,1)*H(1,1)/20+Q(1,2)*H(1,1)*H(1,1)/12);       %A点等效节点弯矩
  Mb=((Q(1,1)-Q(1,2))*H(1,1)*H(1,1)/30+Q(1,2)*H(1,1)*H(1,1)/12)-((Q(1,2)-Q(1,3))*H(1,2)*H(1,2)/20+Q(1,3)*H(1,2)*H(1,2)/12); 
  %B点等效节点弯矩 
  Mc=((Q(1,2)-Q(1,3))*H(1,2)*H(1,2)/30+Q(1,3)*H(1,2)*H(1,2)/12)-((Q(1,3)-Q(1,4))*H(1,3)*H(1,3)/20+Q(1,4)*H(1,3)*H(1,3)/12);   
  %C点等效节点弯矩 
  Md=(Q(1,3)-Q(1,4))*H(1,3)*H(1,3)/30+Q(1,4)*H(1,3)*H(1,3)/12;          %D点等效节点弯矩
  Fa=-((Q(1,1)-Q(1,2))*H(1,1)*7/20+0.5*Q(1,2)*H(1,1));                     %A点等效节点剪力
  Fb=-((Q(1,1)-Q(1,2))*H(1,1)*3/20+0.5*Q(1,2)*H(1,1)+(Q(1,2)-Q(1,3))*H(1,2)*7/20+0.5*Q(1,3)*H(1,2));                     
  %B点等效节点剪力
  Fc=-((Q(1,2)-Q(1,3))*H(1,2)*3/20+0.5*Q(1,3)*H(1,2)+(Q(1,3)-Q(1,4))*H(1,3)*7/20+0.5*Q(1,4)*H(1,3));                     
  %C点等效节点剪力
  Fd=-((Q(1,3)-Q(1,4))*H(1,3)*3/20+0.5*Q(1,4)*H(1,3));                     %D点等效节点剪力
  f=[0; Mb; 0; Mc; 0; Md];     
elseif n==4
  Ma=-((Q(1,1)-Q(1,2))*H(1,1)*H(1,1)/20+Q(1,2)*H(1,1)*H(1,1)/12);       %A点等效节点弯矩
  Mb=((Q(1,1)-Q(1,2))*H(1,1)*H(1,1)/30+Q(1,2)*H(1,1)*H(1,1)/12)-((Q(1,2)-Q(1,3))*H(1,2)*H(1,2)/20+Q(1,3)*H(1,2)*H(1,2)/12); 
  %B点等效节点弯矩 
  Mc=((Q(1,2)-Q(1,3))*H(1,2)*H(1,2)/30+Q(1,3)*H(1,2)*H(1,2)/12)-((Q(1,3)-Q(1,4))*H(1,3)*H(1,3)/20+Q(1,4)*H(1,3)*H(1,3)/12);   
  %C点等效节点弯矩 
  Md=((Q(1,3)-Q(1,4))*H(1,3)*H(1,3)/30+Q(1,4)*H(1,3)*H(1,3)/12)-((Q(1,4)-Q(1,5))*H(1,4)*H(1,4)/20+Q(1,5)*H(1,4)*H(1,4)/12);   
  %D点等效节点弯矩 
  Me=(Q(1,4)-Q(1,5))*H(1,4)*H(1,4)/30+Q(1,5)*H(1,4)*H(1,4)/12;          %E点等效节点弯矩   
  Fa=-((Q(1,1)-Q(1,2))*H(1,1)*7/20+0.5*Q(1,2)*H(1,1));                     %A点等效节点剪力
  Fb=-((Q(1,1)-Q(1,2))*H(1,1)*3/20+0.5*Q(1,2)*H(1,1)+(Q(1,2)-Q(1,3))*H(1,2)*7/20+0.5*Q(1,3)*H(1,2));                     
  %B点等效节点剪力
  Fc=-((Q(1,2)-Q(1,3))*H(1,2)*3/20+0.5*Q(1,3)*H(1,2)+(Q(1,3)-Q(1,4))*H(1,3)*7/20+0.5*Q(1,4)*H(1,3));                     
  %C点等效节点剪力
  Fd=-((Q(1,3)-Q(1,4))*H(1,3)*3/20+0.5*Q(1,4)*H(1,3)+(Q(1,4)-Q(1,5))*H(1,4)*7/20+0.5*Q(1,5)*H(1,4));                     
  %D点等效节点剪力
  Fe=-((Q(1,4)-Q(1,5))*H(1,4)*3/20+0.5*Q(1,5)*H(1,4));                     %E点等效节点剪力  
  f=[0; Mb; 0; Mc; 0; Md; 0; Me];   
end
end

